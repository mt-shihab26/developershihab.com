---
import { capitalizeFirstLetter } from "@/lib/utils";
import { name } from "@/lib/information";

import { ArrowLeft } from "lucide-react";

import LinkBtn from "@/components/ui/link-btn.astro";
import Pattern from "@/components/ui/pattern.astro";
import Box from "@/components/ui/box-index.astro";
import BoxTitle from "@/components/ui/box-title.astro";
import BoxHeader from "@/components/ui/box-header.astro";
import BoxContent from "@/components/ui/box-content.astro";

import SiteLayout from "@/components/layouts/site/layout.astro";
import SiteHeader from "@/components/layouts/site/header.astro";
import SiteFooter from "@/components/layouts/site/footer.astro";

interface Props {
    title: string;
    description: string;
    backLink?: string;
}

const { title, description, backLink } = Astro.props;
---

<SiteLayout title={`${title} - ${name}`}>
    <SiteHeader />
    <main class="mx-auto min-h-screen max-w-3xl" aria-label="Main content">
        <Pattern className="h-14">
            {
                backLink && (
                    <LinkBtn ariaLabel="Back link" className="absolute bottom-0 left-2 z-1" href={backLink}>
                        <ArrowLeft />
                    </LinkBtn>
                )
            }
        </Pattern>
        <Box>
            <BoxHeader>
                <BoxTitle className="text-2xl !font-black">{capitalizeFirstLetter(title)}</BoxTitle>
            </BoxHeader>
            <BoxContent>
                {description}
            </BoxContent>
        </Box>
        <slot />
        <Pattern />
    </main>
    <SiteFooter />
</SiteLayout>
