---
import type { TLoading } from './Img.astro';
import type { TProject } from '@/content/config';

import { cn } from '@/lib/utils';

import Technologies from './Technologies.astro';
import Links from './Links.astro';
import Img from './Img.astro';

interface Props {
	project: TProject;
	loading?: TLoading;
}

const {
	project: {
		data: { title, description, logo, technologies, links, draft },
		slug
	},
	loading
} = Astro.props as Props;
---

<div class="flex flex-col space-y-4">
	<a
		class={cn(
			'relative rounded-2xl border border-border bg-primary-foreground',
			'p-6 transition-all hover:border-foreground/25 hover:shadow-sm'
		)}
		href={`/projects/${slug}`}
	>
		{
			!!logo?.src && (
				<Img
					src={logo.src}
					alt={logo.alt}
					loading={loading}
					class="mb-4 h-12 w-auto lg:absolute lg:-left-20 lg:mb-0 lg:p-2"
				/>
			)
		}

		<div class="flex flex-col gap-y-3">
			<h1 class="text-lg font-medium">
				{draft && <span class="mr-2 text-red-500">(Draft)</span>}
				{title}
			</h1>

			<div class="text-base text-muted-foreground">
				{description}
			</div>

			<Technologies technologies={technologies} class="mt-2" />
		</div>
	</a>

	<!-- <Links links={links || []} class="px-1" /> -->
</div>
